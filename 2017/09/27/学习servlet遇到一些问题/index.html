<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="google-site-verification" content="" />
  
  <title>Servlet 一二点</title>
  <meta name="author" content="pingL">
   <meta name="description" content="Java文件中文字符乱码

a 编译器字符编码
b servlet 解码//响应的内容类型response.setContentType(“text/html;charset=GBK”);//设置解码方式request.setCharacterEncoding(“GBK”);


数据库连接后查询失">
  

  <meta property="og:title" content="Servlet 一二点"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:site_name" content="PingL的平常"/>
 <meta property="og:image" content="undefined"/>
  
  <link href="/apple-touch-icon-precomposed.png" sizes="180x180" rel="apple-touch-icon-precomposed">
  <link rel="alternate" href="/atom.xml" title="PingL的平常" type="application/atom+xml">
  <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/m.min.css">
  <link rel="icon" type="image/x-icon" href="/css/images/bitbug_favicon.ico">
</head>

<body>
  <a id="top"></a>
  <div id='wx_pic' style='display:none;'><img src='/wx_share.png'/></div>
  <div id="main">
    <div class="behind">
      <div class="back">
        <a href="/" class="black-color"><i class="fa fa-times" aria-hidden="true"></i></a>
      </div>
      <div class="description">
        &nbsp;
      </div>
    </div>
    <div class="container">
      

  <article class="standard post">
    <div class="title">
      
  
    <h1 class="page-title center">
        Servlet 一二点
    </h1>
  


    </div>
    <div class="meta center">
      
<time datetime="2017-09-26T16:00:00.000Z">
  <i class="fa fa-calendar"></i>&nbsp;
  2017-09-27
</time>






    
    &nbsp;
    <i class="fa fa-tag"></i>&nbsp;
    <a href="/tags/servelt-tomcat-IntelliJIdea/">servelt tomcat IntelliJIdea</a>


    </div>
    <hr>
    <div class="picture-container">
      
    </div>
    <ul>
<li><p>Java文件中文字符乱码</p>
<ul>
<li>a 编译器字符编码<br><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fjy3ntf3p9j30gu06kdfy.jpg" alt="截图一"></li>
<li>b servlet 解码<br>//响应的内容类型<br>response.setContentType(“text/html;charset=GBK”);<br>//设置解码方式<br>request.setCharacterEncoding(“GBK”);</li>
</ul>
</li>
<li><p>数据库连接后查询失败</p>
<ul>
<li><p>报错提示有<br>  “The driver has not received any packets from the server.（驱动程序没有从服务器接收任何数据包）”<br>  <img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fjy3shl7m7j30n003kq3t.jpg" alt="报错截图"></p>
<pre><code> // 连接数据库
public Connection getConnection () throws Exception{
        if (connection == null) {
                Class.forName(this.driver);
</code></pre><p>//            connection =  DriverManager.getConnection(url,username,this.password);</p>
<pre><code>connection =  DriverManager.getConnection(url, username, this.password);
}
return  connection;
}
</code></pre><p>  //查询</p>
<pre><code>public ResultSet query (String sql, Object... args) throws Exception {
            PreparedStatement preparedStatement =  getConnection().prepareStatement(sql);

        for (int i = 0; i &lt; args.length; i++) {
        preparedStatement.setObject(i + 1, args[i]);
        }
            return preparedStatement.executeQuery();
        }
</code></pre></li>
</ul>
</li>
</ul>
<pre><code>ResultSet resultSet = dbDao.query(&quot;select password * from user_table&quot; + &quot;where username =?&quot;, name);
</code></pre><ul>
<li>IntelliJ Idea编译器开放BUG<ul>
<li>使用测试Demo可以正常运行，问题消失，编译器正常。</li>
</ul>
</li>
</ul>
<p>用户提交姓名，性别等个人信息，通过action 提交用户数据到servlet进行处理，案例功能是显示用户提交的各个值，英文字符可以正常显示，但中文无法显示，查询相关资料显示，可能有两点原因造成。</p>
<p>问题层出不穷，又发现一个来自JB编译器的一个BUG，编译运行时，tomcat无法正常启动，manager has finished in 103 ms， 在Stack Overflow了解到这是JB的一个开放BUG，替换JB里一个叫tomcatIntegretion.jar 文件可以解决问题。找到了可以替换的文件时，操蛋的事接着发生，Finder文件无法拖动，放在平时可以进入终端命令来移动替换文件，可是要替换的文件在Application包文件里<br> <img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fjy3g0kafsj30w20bs40n.jpg" alt="截图二">，🤣,人生多苦难，我的人生呀！（机器重启后恢复正常）</p>


  </article>
  </script>
    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
  </script>
  <div class="busuanzi center">
    page PV:&nbsp;<span id="busuanzi_value_page_pv"></span>&nbsp;・&nbsp;
    site PV:&nbsp;<span id="busuanzi_value_site_pv"></span>&nbsp;・&nbsp;
    site UV:&nbsp;<span id="busuanzi_value_site_uv"></span>
  </div>






    </div>
  </div>
  <footer class="page-footer"><div class="clearfix">
</div>
<div class="right-foot container">
    <div class="firstrow">
        <a href="#top" target="_self">
        <i class="fa fa-arrow-right"></i>
        </a>
        © pingL 2017
    </div>
    <div class="secondrow">
        <a href="">
        平林的世界
        </a>
    </div>
</div>
<div class="clearfix">
</div>
</footer>
  <script src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
<script src="/js/search.js"></script>
<script type="text/javascript">

// disqus scripts


// dropdown scripts
$(".dropdown").click(function(event) {
  var current = $(this);
  event.stopPropagation();
  $(current).children(".dropdown-content")[($(current).children(".dropdown-content").hasClass("open"))?'removeClass':'addClass']("open")
});
$(document).click(function(){
    $(".dropdown-content").removeClass("open");
})

var path = "/search.xml";
searchFunc(path, 'local-search-input', 'local-search-result');

</script>

</body>
</html>
